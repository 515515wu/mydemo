
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="y">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Webhooks &#8212; y y documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Badges" href="badges.html" />
    <link rel="prev" title="Policy for Abandoned Projects" href="abandoned-projects.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="webhooks">
<h1>Webhooks<a class="headerlink" href="#webhooks" title="Permalink to this headline">¶</a></h1>
<p>The primary method that Read the Docs uses to detect changes to your
documentation is through the use of <em>webhooks</em>. Webhooks are configured with
your repository provider, such as GitHub, Bitbucket or GitLab, and with each commit,
merge, or other change to your repository, Read the Docs is notified. When we
receive a webhook notification, we determine if the change is related to an
active version for your project, and if it is, a build is triggered for that
version.</p>
<div class="section" id="webhook-integrations">
<span id="integration-detail"></span><h2>Webhook Integrations<a class="headerlink" href="#webhook-integrations" title="Permalink to this headline">¶</a></h2>
<p>You'll find a list of configured webhook integrations on your project's admin
dashboard, under <strong>Integrations</strong>. You can select any of these integrations to
see the <em>integration detail page</em>. This page has additional configuration
details and a list of HTTP exchanges that have taken place for the integration.</p>
</div>
<div class="section" id="webhook-creation">
<span id="id1"></span><h2>Webhook creation<a class="headerlink" href="#webhook-creation" title="Permalink to this headline">¶</a></h2>
<p>If you import a project using a <a class="reference internal" href="getting_started.html#connect-account"><span class="std std-ref">connected account</span></a>, a
webhook will be set up automatically for your repository. However, if your
project was not imported through a connected account, you may need to
manually configure a webhook for your project.</p>
<p>To manually set up a webhook, click <strong>Add integration</strong> on your project's
<strong>Integrations</strong> admin dashboard page and select the integration type you'd like
to add. After you have added the integration, you'll see a URL for the
integration on the <a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a>. Use this
URL when setting up a new webhook with your provider -- these steps vary
depending on the provider:</p>
<div class="section" id="github">
<h3>GitHub<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Go to the <strong>Settings</strong> page for your project</li>
<li>Click <strong>Webhooks</strong> and then <strong>Add webhook</strong></li>
<li>For <strong>Payload URL</strong>, use the URL of the integration on Read the Docs, found on
the <a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a> page</li>
<li>For <strong>Content type</strong>, both <em>application/json</em> and
<em>application/x-www-form-urlencoded</em> work</li>
<li>Select <strong>Just the push event</strong></li>
<li>Finish by clicking <strong>Add webhook</strong></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The webhook secret is not yet respected</p>
</div>
</div>
<div class="section" id="bitbucket">
<h3>Bitbucket<a class="headerlink" href="#bitbucket" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Go to the <strong>Settings</strong> page for your project</li>
<li>Click <strong>Webhooks</strong> and then <strong>Add webhook</strong></li>
<li>For <strong>URL</strong>, use the URL of the integration on Read the Docs, found on the
<a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a> page</li>
<li>Under <strong>Triggers</strong>, <strong>Repository push</strong> should be selected</li>
<li>Finish by clicking <strong>Save</strong></li>
</ul>
</div>
<div class="section" id="gitlab">
<h3>GitLab<a class="headerlink" href="#gitlab" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Go to the <strong>Settings</strong> page for your project</li>
<li>Click <strong>Integrations</strong></li>
<li>For <strong>URL</strong>, use the URL of the integration on Read the Docs, found on the
<a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a> page</li>
<li>Leave the default <strong>Push events</strong> selected and mark <strong>Tag push events</strong> also</li>
<li>Finish by clicking <strong>Add Webhook</strong></li>
</ul>
</div>
</div>
<div class="section" id="using-the-generic-api-integration">
<h2>Using the generic API integration<a class="headerlink" href="#using-the-generic-api-integration" title="Permalink to this headline">¶</a></h2>
<p>For repositories that are not hosted with a supported provider, we also offer a
generic API endpoint for triggering project builds. Similar to webhook
integrations, this integration has a specific URL, found on the
<a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a>.</p>
<p>Token authentication is required to use the generic endpoint, you will find this
token on the integration details page. The token should be passed in as a
request parameter, either as form data or as part of JSON data input.</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>This endpoint accepts the following arguments during an HTTP POST:</p>
<dl class="docutils">
<dt>branches</dt>
<dd><p class="first">The names of the branches to trigger builds for. This can either be an array
of branch name strings, or just a single branch name string.</p>
<p class="last">Default: <strong>latest</strong></p>
</dd>
<dt>token</dt>
<dd>The integration token. You'll find this value on the
<a class="reference internal" href="#integration-detail"><span class="std std-ref">integration detail page</span></a> page.</dd>
</dl>
<p>For example, the cURL command to build the <code class="docutils literal notranslate"><span class="pre">dev</span></code> branch, using the token
<code class="docutils literal notranslate"><span class="pre">1234</span></code>, would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;branches=dev&quot;</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;token=1234&quot;</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">readthedocs</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">v2</span><span class="o">/</span><span class="n">webhook</span><span class="o">/</span><span class="n">example</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span>
</pre></div>
</div>
<p>A command like the one above could be called from a cron job or from a hook
inside <a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/githooks.html">Git</a>, <a class="reference external" href="http://mikewest.org/2006/06/subversion-post-commit-hooks-101">Subversion</a>, <a class="reference external" href="http://hgbook.red-bean.com/read/handling-repository-events-with-hooks.html">Mercurial</a>, or <a class="reference external" href="http://wiki.bazaar.canonical.com/BzrHooks">Bazaar</a>.</p>
</div>
<div class="section" id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>This endpoint requires authentication. If authenticating with an integration
token, a check will determine if the token is valid and matches the given
project. If instead an authenticated user is used to make this request, a check
will be performed to ensure the authenticated user is an owner of the project.</p>
</div>
</div>
<div class="section" id="debugging-webhooks">
<h2>Debugging webhooks<a class="headerlink" href="#debugging-webhooks" title="Permalink to this headline">¶</a></h2>
<p>If you are experiencing problems with an existing webhook, you may be able to
use the integration detail page to help debug the issue. Each project
integration, such as a webhook or the generic API endpoint, stores the HTTP
exchange that takes place between Read the Docs and the external source. You'll
find a list of these exchanges in any of the integration detail pages.</p>
</div>
<div class="section" id="resyncing-webhooks">
<h2>Resyncing webhooks<a class="headerlink" href="#resyncing-webhooks" title="Permalink to this headline">¶</a></h2>
<p>It might be necessary to re-establish a webhook if you are noticing problems.
To resync a webhook from Read the Docs, visit the integration detail page and
follow the directions for re-syncing your repository webhook.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Webhooks</a><ul>
<li><a class="reference internal" href="#webhook-integrations">Webhook Integrations</a></li>
<li><a class="reference internal" href="#webhook-creation">Webhook creation</a><ul>
<li><a class="reference internal" href="#github">GitHub</a></li>
<li><a class="reference internal" href="#bitbucket">Bitbucket</a></li>
<li><a class="reference internal" href="#gitlab">GitLab</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-generic-api-integration">Using the generic API integration</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging-webhooks">Debugging webhooks</a></li>
<li><a class="reference internal" href="#resyncing-webhooks">Resyncing webhooks</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="abandoned-projects.html" title="previous chapter">Policy for Abandoned Projects</a></li>
      <li>Next: <a href="badges.html" title="next chapter">Badges</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/webhooks.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, y.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/webhooks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>